"use strict";var t=require("path"),n=require("./main-73a149c1.js"),e=require("fs");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function o(t,n){return n.forEach((function(n){n&&"string"!=typeof n&&!Array.isArray(n)&&Object.keys(n).forEach((function(e){if("default"!==e&&!(e in t)){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}}))})),Object.freeze(t)}var i=r(t),s=r(e),c=f;f.sync=function(t,n){return a(u.statSync(t),t,n)};var u=s.default;function a(t,n,e){return!(!t.isSymbolicLink()&&!t.isFile())&&function(t,n){var e=void 0!==n.pathExt?n.pathExt:process.env.PATHEXT;if(!e)return!0;if(-1!==(e=e.split(";")).indexOf(""))return!0;for(var r=0;r<e.length;r++){var o=e[r].toLowerCase();if(o&&t.substr(-o.length).toLowerCase()===o)return!0}return!1}(n,e)}function f(t,n,e){u.stat(t,(function(r,o){e(r,!r&&a(o,t,n))}))}var l=E;E.sync=function(t,n){return d(h.statSync(t),n)};var p,h=s.default;function E(t,n,e){h.stat(t,(function(t,r){e(t,!t&&d(r,n))}))}function d(t,n){return t.isFile()&&function(t,n){var e=t.mode,r=t.uid,o=t.gid,i=void 0!==n.uid?n.uid:process.getuid&&process.getuid(),s=void 0!==n.gid?n.gid:process.getgid&&process.getgid(),c=parseInt("100",8),u=parseInt("010",8),a=parseInt("001",8),f=c|u;return e&a||e&u&&o===s||e&c&&r===i||e&f&&0===i}(t,n)}p="win32"===process.platform||n.commonjsGlobal.TESTING_WINDOWS?c:l;var g=v;function v(t,n,e){if("function"==typeof n&&(e=n,n={}),!e){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(e,r){v(t,n||{},(function(t,n){t?r(t):e(n)}))}))}p(t,n||{},(function(t,r){t&&("EACCES"===t.code||n&&n.ignoreErrors)&&(t=null,r=!1),e(t,r)}))}v.sync=function(t,n){try{return p.sync(t,n||{})}catch(t){if(n&&n.ignoreErrors||"EACCES"===t.code)return!1;throw t}};const y="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,w=i.default,x=y?";":":",m=g,O=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),T=(t,n)=>{const e=n.colon||x,r=t.match(/\//)||y&&t.match(/\\/)?[""]:[...y?[process.cwd()]:[],...(n.path||process.env.PATH||"").split(e)],o=y?n.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=y?o.split(e):[""];return y&&-1!==t.indexOf(".")&&""!==i[0]&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:o}},b=(t,n,e)=>{"function"==typeof n&&(e=n,n={}),n||(n={});const{pathEnv:r,pathExt:o,pathExtExe:i}=T(t,n),s=[],c=e=>new Promise(((o,i)=>{if(e===r.length)return n.all&&s.length?o(s):i(O(t));const c=r[e],a=/^".*"$/.test(c)?c.slice(1,-1):c,f=w.join(a,t),l=!a&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;o(u(l,e,0))})),u=(t,e,r)=>new Promise(((a,f)=>{if(r===o.length)return a(c(e+1));const l=o[r];m(t+l,{pathExt:i},((o,i)=>{if(!o&&i){if(!n.all)return a(t+l);s.push(t+l)}return a(u(t,e,r+1))}))}));return e?c(0).then((t=>e(null,t)),e):c(0)};var P=b;b.sync=(t,n)=>{n=n||{};const{pathEnv:e,pathExt:r,pathExtExe:o}=T(t,n),i=[];for(let s=0;s<e.length;s++){const c=e[s],u=/^".*"$/.test(c)?c.slice(1,-1):c,a=w.join(u,t),f=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+a:a;for(let t=0;t<r.length;t++){const e=f+r[t];try{if(m.sync(e,{pathExt:o})){if(!n.all)return e;i.push(e)}}catch(t){}}}if(n.all&&i.length)return i;if(n.nothrow)return null;throw O(t)};var j=o({__proto__:null,default:P},[P]);exports.which=j,exports.which_1=P;
//# sourceMappingURL=which-2afc3a15.js.map
